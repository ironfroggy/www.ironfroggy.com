Previously I made a <a href="http://techblog.ironfroggy.com/2010/12/how-to-tease-everyone-on-christmas.html">little preview</a> of something I'm announcing today, but it is a soft announcement as I've had it on github for some time, but I haven't done anything with the project.<data:post.title></data:post.title><br /><div><br /></div><div>This is just a prototype, an experiment, and it is called Trapdoor. I don't remember why I named it Trapdoor.</div><div><br /></div><div>Trapdoor has a simple concept, along the lines of Mozilla Prism. I wanted to take things I use to build web applications and test how they could be applied to building desktop applications. This meant two things:</div><div><br /></div><div>1) I need to wrap up a web application in something that can be run locally.</div><div><br /></div><div>2) I need some way to extend a web application in ways that normally only desktop applications can provide.</div><div><br /></div><div>This has been done in the simplest way I could find, at the time, and is <a href="https://github.com/ironfroggy/trapdoor">available on github</a>.</div><div><br /></div><div><span class="Apple-style-span" style="font-family: helvetica, arial, freesans, clean, sans-serif; font-size: 11px; line-height: 14px;"><pre style="font-family: 'Bitstream Vera Sans Mono', Courier, monospace; font-size: 12px; font: normal normal normal 12px/normal Monaco, 'Courier New', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', monospace; line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><div class="line" id="LC1" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br /><span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">extensions</span><span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">:</span></div><br /><div class="line" id="LC2" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br />&nbsp;<span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">-</span> <span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">calculator.Calculator</span></div><br /><div class="line" id="LC3" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br /><span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">js</span><span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">:</span></div><br /><div class="line" id="LC4" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br />&nbsp;<span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">-</span> <span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">calculator.js</span></div><br /><div class="line" id="LC5" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br /><span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">plugins</span><span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">:</span></div><br /><div class="line" id="LC6" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 1em; padding-right: 0px; padding-top: 0px;"><br />&nbsp;<span class="p-Indicator" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">-</span> <span class="l-Scalar-Plain" style="line-height: 1.4em; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">trapdoor.contrib.windowmanager</span></div><br /></pre></span></div><div><br /></div><div>Applications are configured through this simply manifest, where they are given extensions, plugins, and javascript. Honestly, extensions and plugins can probably be merged. They are both defined by a Python class and the object exposes methods to the Javascript, which gets loaded and initialized by the runtime. The current version includes two plugins:</div><div><br /></div><div><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">trapdoor.contrib.windowmanager</span></div><div><br /></div><div>This is a basic plugin that provides a simple createWindow method, through which the Javascript can create new windows with (in the future) more control than the standard Javascript APIs would otherwise provide. One thing I'll be adding to this is a fullscreen API and other properties to control the window&nbsp;appearance, such as borders and which controls are visible.</div><div><br /></div><div><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">trapdoor.contrib.nodes</span></div><div><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><br /></span></div><div>This is my favorite of the two standard plugins. Each Node is an isolated Javascript runtime, in its own global space. The application is loaded in the first node, but it can create and initialize others, allowing it to run untrusted Javascript safely. If I continue development, I hope to use this to test ways to allow community additions to software without worrying about what they are running. This is similar to how extensions and user scripts work in Firefox and Chrome.</div><div><br /></div><div>Now, I don't know if more will come of this. I think, if it does, it should probably be evaluated if I should rewrite it based on Chromium and V8, rather than Qt and whatever Javascript engine it is running on. It is also lacking a solid use case, for me, that I can use to drive my desire to improve it. However, I had fun writing it for the thought experiment, and I do hope to do more with it in the near future.</div><div><br /></div><div>Please, fork it and tell me what you think.</div>