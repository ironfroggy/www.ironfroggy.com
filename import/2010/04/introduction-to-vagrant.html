I spent my Sunday afternoon familiarizing myself with a tool who's <a href="http://vagrantup.com/docs/getting-started/index.html">Getting Started</a> page has been sitting in my <a href="http://evernote.com/">Evernote</a> tickle file for a couple weeks. This is one of those many projects that fall under the ever widening category of "Stuff I Wanted To Do, But Am Glad Someone Else Did It So I Can Just Use It And Get On To The Next Thing." If you use virtual machines as part of your development process, or want to, and especially if you already use the excellent <a href="http://virtualbox.org/">VirtualBoxVirtualBox</a>, then <a href="http://vagrantup.com/">Vagrant</a>&nbsp;is certainly worth looking at.<br /><br /><h3 style="font-size: 12pt;">The Setup (for Vagrant 0.2)</h3><br /><div style="margin-bottom: 0px; margin-top: 0px;">Now, the docs might need some updating and they seem to assume you're already a Ruby user, so they're missing a few dependancies that such a person would just happen to alread have. This is what I did, as an Ubuntu user who didn't even have Ruby installed. I'm also adding Virtualbox's Karmic repository to provide VBox 3.1, which Vagrant requires.</div><br /><blockquote class="webkit-indent-blockquote" style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; border-width: initial; color: initial; margin-bottom: 0px; margin-left: 40px; margin-right: 0px; margin-top: 0px; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><span class="Apple-style-span" style="font-family: 'Courier New';">sudo apt-get install rubygems libxslt-dev openssl-ruby</span><br /><div style="margin-bottom: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: 'Courier New';">sudo gem install vagrant</span></div><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">sudo bash -c 'echo "deb http://download.virtualbox.org/virtualbox/debian karmic non-free" &gt;&gt; /etc/apt/sources.list'</span></blockquote><br /><br /><div style="margin-bottom: 0px; margin-top: 0px;">My machine installed Vagrant to /var/lib/gems/1.8/ so I added /var/lib/gems/1.8/bin/ to $PATH.</div><br />Each Vagrant box you build should have its own directory for configuration and should be run from their, so you can create a test project now.<br /><br /><blockquote class="webkit-indent-blockquote" style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; border-width: initial; color: initial; margin-bottom: 0px; margin-left: 40px; margin-right: 0px; margin-top: 0px; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><div style="margin-bottom: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: 'Courier New';">mkdir test-vagrant &amp;&amp; cd test-vagrant</span></div></blockquote><br /><div style="margin-bottom: 0px; margin-top: 0px;">Also, there are reports of issues on <i>some</i> 64-bit machines and I couldn't get the base image to run, but the Ubuntu Karmic image is running fine for me, so this got me started with my first Vagrant box:</div><blockquote class="webkit-indent-blockquote" style="border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; border-width: initial; color: initial; margin-bottom: 0px; margin-left: 40px; margin-right: 0px; margin-top: 0px; padding-bottom: 10px; padding-left: 10px; padding-right: 10px; padding-top: 10px;"><div style="margin-bottom: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: 'Courier New';">vagrant-box add karmic http://files.vagrantup.com/contrib/karmic.box</span></div><div style="margin-bottom: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: 'Courier New';">vagrant init</span></div><div style="margin-bottom: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: 'Courier New';">vagrant up</span></div></blockquote><h3 style="font-size: 12pt;">The Point, What Is?</h3>Why do this? What is the value in being able to quickly build, run, and clone virtual machines? Here are a few ways I'm already using them and will use them (more) with a tool like Vagrant to make it nicer.<br /><br /><ul style="margin-bottom: 0px; margin-top: 0px;"><li style="margin-bottom: 0px; margin-top: 0px;">Keeping a definitive base of my development environment. I always have an image of a machine that I consider my minimum requirements for whatever project I might be working on. This is an Ubuntu image with all the tools I use, my vimrc and my virtualenv/pip shortcuts, etc. When I start a new project, I clone this image and add to it.<br /></li><li style="margin-bottom: 0px; margin-top: 0px;">Making my specific environments reproducible. This one I have tried and can now start doing seriously with Vagrant. For any project, I can maintain a script to build a development environment on top of my base. The benefits are two part. First, I can keep a clean record of what is required to work with a project. Second, when a change is made to my base, I can rebuild my development environment for <b>all</b> of my projects instantly. (Well, I can issue the command instantly, but I'll probably each lunch before its done!)<br /></li><li style="margin-bottom: 0px; margin-top: 0px;">VirtualBox images can be portable. It might even be possible to move suspended images, but I'm not completely sure about this, yet. If it turns out to be something I can do, I'll be able to suspend a project on my desktop, running the box off a USB key, and then resume it on my laptop in the park. Even if I can't do this, I can still build identical environments on multiple machines, for myself or for other developers.<br /></li><li style="margin-bottom: 0px; margin-top: 0px;">Replicating production and building local staging setups, machine the setups I have at Linode and EC2, will become something I can do with a minimal effort. I'm going to save a lot of time deploying to clones of my production machines running right here under my desk.</li></ul><div><br /></div><div><span class="Apple-style-span" style="color: #999999;">UPDATES:</span></div><div><span class="Apple-style-span" style="color: #999999;"><i>April 5, 2010</i> - Added links to Vagrant and VirtualBox websites. Added step to include repository for VirtualBox 3.1</span></div>