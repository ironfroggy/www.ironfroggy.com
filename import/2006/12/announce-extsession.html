As a support package for some other things, I've written a little module called ExtSession. The basic idea is to have an easy way to control a python session running in another process. You can simply instansiate the ExtSession class, and call the execute() method. The results are asyncronous-like, but will be improved later. Very likely support will be added to get Deferreds. For now, you can simply poll or wait. The results of each execute() call (best done one line at a time) are seperated and returned individually of output from other commands, making it very easy to work with over a session's lifetime.<br /><br />Following is a stripped pydoc pull of the docstrings. I hope someone finds this as useful as I think I will.<br /><br />NAME<br />    extsession<br /><br />FILE<br />    /home/calvin/extsession/extsession.py<br /><br />DESCRIPTION<br />    ExtSession Module<br />    For executing code in an external interpreter.<br /><br />    There are many cases where operations are either intensive or blocking by<br />    waiting, and in both situations the extsession module can be used to control<br />    a python session in a seperate process for the purposes of executing code<br />    in parellel without the dangers associated with threads or the complexities<br />    in dealing with asyncronous frameworks.<br /><br />    The core of extsession is the ExtSession class. See its help for details.<br /><br />    Also, look at the exteval and extexec functions for quick, blocking code<br />    execution in a fresh interpreter. (note: these functions do not execute in<br />    parellel, only in a seperate process, but blocking the original)<br /><br />CLASSES<br />    __builtin__.object<br />        ExtEval<br />        ExtResults<br />        ExtSession<br />        Session<br /><br />    class ExtEval(__builtin__.object)<br />     |  Evaluates expressions in a new process with an asyncronous result.<br />     |<br />     |  The result attribute evaluates to the result of the expression, or access<br />     |  raises a ValueError, if the result is not ready.<br />     |<br />     |  Methods defined here:<br />     |<br />     |  __init__(self, expr)<br />     |<br />     |  ----------------------------------------------------------------------<br />     |  Properties defined here:<br />     |<br />     |  result<br />     |      <get> = _get_result(self)<br />     |          Get the result only if its ready.<br />     |<br />     |  ----------------------------------------------------------------------<br />     |  Data and other attributes defined here:<br />     |<br />     |  __dict__ = <dictproxy><br />     |      dictionary for instance variables (if defined)<br />     |<br />     |  __weakref__ = <attribute><br />     |      list of weak references to the object (if defined)<br /><br />    class ExtResults(__builtin__.object)<br />     |  Represents results from an operation in another process.<br />     |<br />     |  Methods defined here:<br />     |<br />     |  __init__(self, stdout, stderr, done)<br />     |<br />     |  read(self, size=None)<br />     |      Read data from stdout of process from operation.<br />     |      Raises ValueError if the operation is not complete.<br />     |<br />     |  wait(self)<br />     |      Return only when the operation is complete.<br />     |<br />     |  ----------------------------------------------------------------------<br />     |  Data and other attributes defined here:<br />     |<br />     |  __dict__ = <dictproxy><br />     |      dictionary for instance variables (if defined)<br />     |<br />     |  __weakref__ = <attribute><br />     |      list of weak references to the object (if defined)<br /><br />    class ExtSession(__builtin__.object)<br />     |  Controls a python session in another process.<br />     |<br />     |  Methods defined here:<br />     |<br />     |  __getitem__(self, name)<br />     |<br />     |  __init__(self)<br />     |<br />     |  execute(self, source)<br />     |      Execute arbitrary python source.<br />     |      Returns an ExtResults object to access the results.<br />     |<br />     |  exit(self, code=0)<br />     |<br />     |  readcodes(self)<br />     |<br />     |  readline(self)<br />     |<br />     |  writeline(self, line)<br />     |<br />     |  ----------------------------------------------------------------------<br />     |  Data and other attributes defined here:<br />     |<br />     |  __dict__ = <dictproxy><br />     |      dictionary for instance variables (if defined)<br />     |<br />     |  __weakref__ = <attribute><br />     |      list of weak references to the object (if defined)<br /><br />    class Session(__builtin__.object)<br />     |  Manages the session in this process. Used by ExtSession in spawned<br />     |  interpreters. Can also be used for a very light sandbox in the same<br />     |  process.<br />     |<br />     |  Methods defined here:<br />     |<br />     |  __init__(self)<br />     |<br />     |  execute(self, source, stdout_fn=None, stderr_fn=None, done_fn=None)<br />     |      Executes code in a semi-controlled environment and redirects output<br />     |      to given stdout and stderr filenames, or random temp locations. Writes<br />     |      a code to the file at done_fn when finished. A code of 'DONE' is<br />     |      expected. When a code appears in the done file, the stdout and stderr<br />     |      files are ready for reading and are complete.<br />     |<br />     |  ----------------------------------------------------------------------<br />     |  Data and other attributes defined here:<br />     |<br />     |  __dict__ = <dictproxy><br />     |      dictionary for instance variables (if defined)<br />     |<br />     |  __weakref__ = <attribute><br />     |      list of weak references to the object (if defined)<br /><br />FUNCTIONS<br />    exteval(expression)<br />        Creates a new process running a new python interpreter, evaluates the<br />        given expression, and returns the result. The result must be basic types,<br />        but may expand in the future to any pickle-capable type.<br /><br />    extexec(source)<br />        Creates a new process, executes the source in a new python interpreter,<br />        and returns a tuple of the stdout and stderr captured.<br /><br />    sleep(...)<br />        sleep(seconds)<br /><br />        Delay execution for a given number of seconds.  The argument may be<br />        a floating point number for subsecond precision.