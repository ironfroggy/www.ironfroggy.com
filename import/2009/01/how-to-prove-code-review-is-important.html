The infamous Zune 30GB failures were traced to a leapyear issue, and apparently they use some code we can see in the Freescale codebase. Take a look at the following sample of code, which determines the year from the day number (counting from January 1, 1980). I don't know about you, but the <span class="Apple-style-span" style="font-style: italic;">infinite loop is immediately obvious.</span> On a leapyear, the main loop continues when <span class="Apple-style-span" style="font-style: italic;">days = 366</span> and the incrementing is never reached, because <span class="Apple-style-span" style="font-style: italic;">days > 366</span> fails.<data:post.title></data:post.title><div><br /></div><div>Am I naive to think that even a casual code review would have caught this in a moment?<br /><div><br /></div><div><span class="Apple-style-span"   style="color: rgb(11, 55, 69);   font-family:Arial;font-size:12px;"><pre class="alt2" dir="ltr" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 6px; padding-right: 6px; padding-bottom: 6px; padding-left: 6px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: inset; border-right-style: inset; border-bottom-style: inset; border-left-style: inset; border-color: initial; width: 640px; height: 306px; text-align: left; overflow-x: auto; overflow-y: auto; background-image: initial; background-repeat: initial; background-attachment: initial; -webkit-background-clip: initial; -webkit-background-origin: initial; background-color: rgb(239, 249, 255); color: rgb(11, 55, 69); background-position: initial initial; ">year = ORIGINYEAR; /* = 1980 */<br />while (days > 365) {<br />     if (IsLeapYear(year))<br />     {<br />         if (days > 366)<br />         {<br />             days -= 366;<br />             year += 1;<br />         }<br />     }<br />     else<br />     {<br />         days -= 365;<br />         year += 1;<br />     }<br />}</pre></span></div></div><br /><br /><b>UPDATE:</b> Fixed formatting issues. It looked fine when I posted it, honest!